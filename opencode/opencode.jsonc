{
  "$schema": "https://opencode.ai/config.json",

  // Plugins disabled for now (no oh-my-opencode)
  "plugin": [],
  "autoupdate": true,
  "share": "auto",

  // Default model
  "model": "ollama_local/qwen2.5:14b-instruct-q4_K_M-64k",

  "provider": {
    "ollama_local": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Ollama (OpenAI-compatible)",
      "options": {
        "baseURL": "http://127.0.0.1:11434/v1",
        "apiKey": "EMPTY"
      },
      "models": {
        "qwen2.5:14b-instruct-q4_K_M-64k": {
          "name": "Qwen2.5-14B Ollama (64K)",
          "tool_call": true,
          "temperature": true,
          "limit": { "context": 65536, "output": 4096 }
        },
        "qwen3-coder:30b-64k": {
          "name": "Valkyrie üõ° (Qwen3-Coder-30B Ollama)",
          "tool_call": true,
          "temperature": true,
          "limit": { "context": 65536, "output": 4096 }
        },
        "llama3:70b-instruct-q4_K_M-64k": {
          "name": "Odin üëÅÔ∏è (Llama-3-70B Ollama)",
          "tool_call": true,
          "temperature": true,
          "limit": { "context": 65536, "output": 4096 }
        },
        "qwen2.5:3b-instruct": {
          "name": "Heimdall üëÅ (Qwen2.5-3B Ollama)",
          "tool_call": true,
          "temperature": true,
          "limit": { "context": 16384, "output": 4096 }
        },
        "qwen2.5:7b-instruct": {
          "name": "Loki üß† (Qwen2.5-7B Ollama)",
          "tool_call": true,
          "temperature": true,
          "limit": { "context": 32768, "output": 4096 }
        }
      }
    },

    "cloud_planner": {
      "npm": "@ai-sdk/openai",
      "name": "Cloud Planner",
      "options": { "apiKey": "{env:OPENAI_API_KEY}" },
      "models": {
        "{env:CLOUD_PLANNER_MODEL}": { "name": "Cloud Planner ({env:CLOUD_PLANNER_MODEL})" }
      }
    }
  },

  // MCP servers (Model Context Protocol). Add/enable as needed.
  // Example:
  // "mcp": {
  //   "filesystem": {
  //     "type": "local",
  //     "command": ["mcp-server-filesystem", "--root", "{cwd}"],
  //     "enabled": true
  //   }
  // },

  "agent": {
    "primary":  {
      "mode": "primary",
      "model": "ollama_local/qwen2.5:14b-instruct-q4_K_M-64k",
      "description": "Primary commander: planning, coordination, delegation.",
      "prompt": "Tool calling rules: Only call tools that are explicitly available. Do not invent tools or task names. If you decide to use the Task tool, you MUST include `subagent_type` with one of: primary, coder, reviewer, utility, loki, frigga plus a clear `prompt` and optional `description`. Example Task call: {\"subagent_type\":\"utility\",\"description\":\"repo overview\",\"prompt\":\"Provide a high-level repo overview\"}. If unsure, respond in natural language without tools.",
      "tools": {
        "task": true,
        "read": true,
        "glob": true,
        "grep": true,
        "webfetch": true,
        "websearch": true,
        "codesearch": true
      }
    },
    "coder":    {
      "mode": "subagent",
      "model": "ollama_local/qwen3-coder:30b-64k",
      "description": "Execution specialist: coding, refactors, implementation.",
      "prompt": "Tool calling rules: Only call tools that are explicitly available. Do not invent tools or task names. If you use the Task tool, include `subagent_type` (primary|coder|reviewer|utility|loki|frigga), plus `prompt` and optional `description`.",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "write": true,
        "edit": true,
        "bash": true,
        "lsp": true,
        "codesearch": true
      }
    },
    "reviewer": {
      "mode": "subagent",
      "model": "ollama_local/llama3:70b-instruct-q4_K_M-64k",
      "description": "Supreme architect: deep review, architecture, correctness.",
      "prompt": "Tool calling rules: Only call tools that are explicitly available. Do not invent tools or task names. If you use the Task tool, include `subagent_type` (primary|coder|reviewer|utility|loki|frigga), plus `prompt` and optional `description`.",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "codesearch": true,
        "websearch": true,
        "webfetch": true
      }
    },
    "utility":  {
      "mode": "subagent",
      "model": "ollama_local/qwen2.5:3b-instruct",
      "description": "Guardian: fast validation, checks, monitoring.",
      "prompt": "Tool calling rules: Only call tools that are explicitly available. Do not invent tools or task names. If you use the Task tool, include `subagent_type` (primary|coder|reviewer|utility|loki|frigga), plus `prompt` and optional `description`.",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "webfetch": true,
        "websearch": true
      }
    },
    "loki":   {
      "mode": "subagent",
      "model": "ollama_local/qwen2.5:7b-instruct",
      "description": "Adversarial intelligence: edge cases, counterexamples.",
      "prompt": "Tool calling rules: Only call tools that are explicitly available. Do not invent tools or task names. If you use the Task tool, include `subagent_type` (primary|coder|reviewer|utility|loki|frigga), plus `prompt` and optional `description`.",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "websearch": true
      }
    },
    "frigga": {
      "mode": "subagent",
      "model": "ollama_local/qwen2.5:14b-instruct-q4_K_M-64k",
      "description": "Knowledge curator: documentation, summarization.",
      "prompt": "Tool calling rules: Only call tools that are explicitly available. Do not invent tools or task names. If you use the Task tool, include `subagent_type` (primary|coder|reviewer|utility|loki|frigga), plus `prompt` and optional `description`.",
      "tools": {
        "read": true,
        "glob": true,
        "grep": true,
        "webfetch": true
      }
    }
  }
}
